{
  "properties": {
    "name": {
      "description": "A unique, descriptive name for the feature.",
      "title": "Name",
      "type": "string"
    },
    "type": {
      "anyOf": [
        {
          "enum": [
            "code",
            "llm",
            "composition"
          ],
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "The type of feature to be realized.",
      "title": "Type"
    },
    "spec": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "The core logic of the feature: a Python expression, an LLM prompt, or a composition formula.",
      "title": "Spec"
    },
    "depends_on": {
      "description": "A list of other feature names this feature depends on (for compositions).",
      "items": {
        "type": "string"
      },
      "title": "Depends On",
      "type": "array"
    },
    "params": {
      "description": "A dictionary of tunable parameters for the feature.",
      "title": "Params",
      "type": "object"
    },
    "rationale": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "A detailed explanation of why this feature is useful.",
      "title": "Rationale"
    }
  },
  "required": [
    "name"
  ],
  "title": "CandidateFeature",
  "type": "object"
}